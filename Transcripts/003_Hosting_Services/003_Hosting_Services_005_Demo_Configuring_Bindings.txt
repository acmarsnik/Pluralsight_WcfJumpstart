Demo: Configuring Bindings

In our endpoints up above, we define what binding we want to use for that endpoint, and we're using the basicHttpBinding and the netTcpBinding. Every binding has a lot of configurable aspects to it that you can set to drive the way the communications happen at a wire-level. And obviously those settings all have defaults, but often you need to deviate from those defaults. So I'm going to drop down here and paste in some code, in a bindings section inside the serviceModel element. You can see that you can set up a child element for each of the binding types that you're using. Inside of that you define a binding element itself, and on there are a bunch of properties. Now the ones I'm setting here have to do with max sizes of various types. The defaults for each of these are different numbers you don't need to worry about at this point, but they're meant to be restrictive by default for denial of service reasons. If an attacker were to come and send large messages to your service, they could actually clobber your memory and keep you service from responding to other callers. So it could be a vector for a denial of service attack. However, the sizes of these are kind of small, 64K for example, for the maxReceivedMessageSize. If you go and retrieve a big list of customers or products or something, you're often going to bust that. So you'll have to bump these setting up to a larger size. Now you can see I'm just setting them to maxInt, which if you've got a publicly exposed service, you definitely don't want to do because you're opening yourself up for that denial of service attack. But if you're just implementing a WCF service behind the firewall, and you're not worried about people trying to attack it inside your enterprise network, then it's probably okay to crank these up to max integer and kind of get them out of the way. Now there's dozens of other properties you can set down at this level we won't go into in this course, but by doing this and having these unnamed bindings for a given binding type, it basically says all of the endpoints that use that binding, within this host, will have these settings on it. So it's a way you can tweak these bindings away from their default values. 